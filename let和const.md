let和const

# let和const

- [let和const]()
    - [1.let命令]()
    - [2.块级作用域]()
    - [3.const命令]()
    - [4.const本质]()
    - [5.顶层对象的属性]()
    - [6.globalThis对象]()

* * *

#### 1.let命令

* * *

- let只在它所在的作用于内有效
- let没有变量提升
- for循环使用let声明i时，每一轮循环时都是一个新的i
- 暂时性死区让typeof变得不是百分百安全
- 在同一作用域内不允许重复声明，有形参的函数内部也不行

#### 2.块级作用域

* * *

- 块级作用域用大括号表示
- 声明，包括函数声明都只能在作用域的顶层完成

#### 3.const命令

* * *

- const声明一个只读的常量，一经声明，常量的值不能改变
- const声明时必须同步赋值，否则报错
- const只在声明所在的作用域内有效

#### 4.const本质

* * *

- **const**实际上保证的，并不是变量的值不得改动，而是**变量指向的那个内存地址**所保存的数据不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个**指向实际数据的指针**，const只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了。因此，将一个对象声明为常量必须非常小心。
- 如果真的想将对象冻结，应该使用**Object.freeze**方法。
- **Object.freeze()** 方法可以冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。freeze() 返回和传入的参数相同的对象。

#### 5.顶层对象的属性

* * *

- 浏览器环境下的顶层对象是**windows**。在JS中，顶层对象windows的属性等同于全局变量。这是JS设计的最大缺陷之一。ES6为了改变这一缺陷，并没有将**let命令、const命令、class命令**声明的全局变量归属于顶层对象的属性。

#### 6.globalThis对象

* * *

- 鉴于对node还停留在懵懂阶段，暂时不收录

%23%20let%E5%92%8Cconst%0A%0A%5BTOC%5D%0A%0A---%0A%23%23%23%23%201.let%E5%91%BD%E4%BB%A4%0A---%0A-%20let%E5%8F%AA%E5%9C%A8%E5%AE%83%E6%89%80%E5%9C%A8%E7%9A%84%E4%BD%9C%E7%94%A8%E4%BA%8E%E5%86%85%E6%9C%89%E6%95%88%0A-%20let%E6%B2%A1%E6%9C%89%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%0A-%20for%E5%BE%AA%E7%8E%AF%E4%BD%BF%E7%94%A8let%E5%A3%B0%E6%98%8Ei%E6%97%B6%EF%BC%8C%E6%AF%8F%E4%B8%80%E8%BD%AE%E5%BE%AA%E7%8E%AF%E6%97%B6%E9%83%BD%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84i%0A-%20%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA%E8%AE%A9typeof%E5%8F%98%E5%BE%97%E4%B8%8D%E6%98%AF%E7%99%BE%E5%88%86%E7%99%BE%E5%AE%89%E5%85%A8%0A-%20%E5%9C%A8%E5%90%8C%E4%B8%80%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E4%B8%8D%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D%E5%A3%B0%E6%98%8E%EF%BC%8C%E6%9C%89%E5%BD%A2%E5%8F%82%E7%9A%84%E5%87%BD%E6%95%B0%E5%86%85%E9%83%A8%E4%B9%9F%E4%B8%8D%E8%A1%8C%0A%0A%23%23%23%23%202.%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%0A---%0A-%20%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%E8%A1%A8%E7%A4%BA%0A-%20%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E9%83%BD%E5%8F%AA%E8%83%BD%E5%9C%A8%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E9%A1%B6%E5%B1%82%E5%AE%8C%E6%88%90%0A%0A%23%23%23%23%203.const%E5%91%BD%E4%BB%A4%0A---%0A-%20const%E5%A3%B0%E6%98%8E%E4%B8%80%E4%B8%AA%E5%8F%AA%E8%AF%BB%E7%9A%84%E5%B8%B8%E9%87%8F%EF%BC%8C%E4%B8%80%E7%BB%8F%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%B8%B8%E9%87%8F%E7%9A%84%E5%80%BC%E4%B8%8D%E8%83%BD%E6%94%B9%E5%8F%98%0A-%20const%E5%A3%B0%E6%98%8E%E6%97%B6%E5%BF%85%E9%A1%BB%E5%90%8C%E6%AD%A5%E8%B5%8B%E5%80%BC%EF%BC%8C%E5%90%A6%E5%88%99%E6%8A%A5%E9%94%99%0A-%20const%E5%8F%AA%E5%9C%A8%E5%A3%B0%E6%98%8E%E6%89%80%E5%9C%A8%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E6%9C%89%E6%95%88%0A%0A%23%23%23%23%204.const%E6%9C%AC%E8%B4%A8%0A---%0A-%20**const**%E5%AE%9E%E9%99%85%E4%B8%8A%E4%BF%9D%E8%AF%81%E7%9A%84%EF%BC%8C%E5%B9%B6%E4%B8%8D%E6%98%AF%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%E4%B8%8D%E5%BE%97%E6%94%B9%E5%8A%A8%EF%BC%8C%E8%80%8C%E6%98%AF**%E5%8F%98%E9%87%8F%E6%8C%87%E5%90%91%E7%9A%84%E9%82%A3%E4%B8%AA%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80**%E6%89%80%E4%BF%9D%E5%AD%98%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%8D%E5%BE%97%E6%94%B9%E5%8A%A8%E3%80%82%E5%AF%B9%E4%BA%8E%E7%AE%80%E5%8D%95%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%88%E6%95%B0%E5%80%BC%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E3%80%81%E5%B8%83%E5%B0%94%E5%80%BC%EF%BC%89%EF%BC%8C%E5%80%BC%E5%B0%B1%E4%BF%9D%E5%AD%98%E5%9C%A8%E5%8F%98%E9%87%8F%E6%8C%87%E5%90%91%E7%9A%84%E9%82%A3%E4%B8%AA%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%9B%A0%E6%AD%A4%E7%AD%89%E5%90%8C%E4%BA%8E%E5%B8%B8%E9%87%8F%E3%80%82%E4%BD%86%E5%AF%B9%E4%BA%8E%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%BB%E8%A6%81%E6%98%AF%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84%EF%BC%89%EF%BC%8C%E5%8F%98%E9%87%8F%E6%8C%87%E5%90%91%E7%9A%84%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%EF%BC%8C%E4%BF%9D%E5%AD%98%E7%9A%84%E5%8F%AA%E6%98%AF%E4%B8%80%E4%B8%AA**%E6%8C%87%E5%90%91%E5%AE%9E%E9%99%85%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8C%87%E9%92%88**%EF%BC%8Cconst%E5%8F%AA%E8%83%BD%E4%BF%9D%E8%AF%81%E8%BF%99%E4%B8%AA%E6%8C%87%E9%92%88%E6%98%AF%E5%9B%BA%E5%AE%9A%E7%9A%84%EF%BC%88%E5%8D%B3%E6%80%BB%E6%98%AF%E6%8C%87%E5%90%91%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%9B%BA%E5%AE%9A%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%89%EF%BC%8C%E8%87%B3%E4%BA%8E%E5%AE%83%E6%8C%87%E5%90%91%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%98%AF%E4%B8%8D%E6%98%AF%E5%8F%AF%E5%8F%98%E7%9A%84%EF%BC%8C%E5%B0%B1%E5%AE%8C%E5%85%A8%E4%B8%8D%E8%83%BD%E6%8E%A7%E5%88%B6%E4%BA%86%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%B0%86%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%A3%B0%E6%98%8E%E4%B8%BA%E5%B8%B8%E9%87%8F%E5%BF%85%E9%A1%BB%E9%9D%9E%E5%B8%B8%E5%B0%8F%E5%BF%83%E3%80%82%0A-%20%E5%A6%82%E6%9E%9C%E7%9C%9F%E7%9A%84%E6%83%B3%E5%B0%86%E5%AF%B9%E8%B1%A1%E5%86%BB%E7%BB%93%EF%BC%8C%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8**Object.freeze**%E6%96%B9%E6%B3%95%E3%80%82%0A-%20**Object.freeze()**%C2%A0%E6%96%B9%E6%B3%95%E5%8F%AF%E4%BB%A5%E5%86%BB%E7%BB%93%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E3%80%82%E4%B8%80%E4%B8%AA%E8%A2%AB%E5%86%BB%E7%BB%93%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%86%8D%E4%B9%9F%E4%B8%8D%E8%83%BD%E8%A2%AB%E4%BF%AE%E6%94%B9%EF%BC%9B%E5%86%BB%E7%BB%93%E4%BA%86%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%88%99%E4%B8%8D%E8%83%BD%E5%90%91%E8%BF%99%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%8C%E4%B8%8D%E8%83%BD%E5%88%A0%E9%99%A4%E5%B7%B2%E6%9C%89%E5%B1%9E%E6%80%A7%EF%BC%8C%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E8%AF%A5%E5%AF%B9%E8%B1%A1%E5%B7%B2%E6%9C%89%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8F%AF%E6%9E%9A%E4%B8%BE%E6%80%A7%E3%80%81%E5%8F%AF%E9%85%8D%E7%BD%AE%E6%80%A7%E3%80%81%E5%8F%AF%E5%86%99%E6%80%A7%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%E5%B7%B2%E6%9C%89%E5%B1%9E%E6%80%A7%E7%9A%84%E5%80%BC%E3%80%82%E6%AD%A4%E5%A4%96%EF%BC%8C%E5%86%BB%E7%BB%93%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%90%8E%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%9F%E5%9E%8B%E4%B9%9F%E4%B8%8D%E8%83%BD%E8%A2%AB%E4%BF%AE%E6%94%B9%E3%80%82freeze()%C2%A0%E8%BF%94%E5%9B%9E%E5%92%8C%E4%BC%A0%E5%85%A5%E7%9A%84%E5%8F%82%E6%95%B0%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AF%B9%E8%B1%A1%E3%80%82%0A%23%23%23%23%205.%E9%A1%B6%E5%B1%82%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%0A---%0A-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E9%A1%B6%E5%B1%82%E5%AF%B9%E8%B1%A1%E6%98%AF**windows**%E3%80%82%E5%9C%A8JS%E4%B8%AD%EF%BC%8C%E9%A1%B6%E5%B1%82%E5%AF%B9%E8%B1%A1windows%E7%9A%84%E5%B1%9E%E6%80%A7%E7%AD%89%E5%90%8C%E4%BA%8E%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%82%E8%BF%99%E6%98%AFJS%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%9C%80%E5%A4%A7%E7%BC%BA%E9%99%B7%E4%B9%8B%E4%B8%80%E3%80%82ES6%E4%B8%BA%E4%BA%86%E6%94%B9%E5%8F%98%E8%BF%99%E4%B8%80%E7%BC%BA%E9%99%B7%EF%BC%8C%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%B0%86**let%E5%91%BD%E4%BB%A4%E3%80%81const%E5%91%BD%E4%BB%A4%E3%80%81class%E5%91%BD%E4%BB%A4**%E5%A3%B0%E6%98%8E%E7%9A%84%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%BD%92%E5%B1%9E%E4%BA%8E%E9%A1%B6%E5%B1%82%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%82%0A%0A%23%23%23%23%206.globalThis%E5%AF%B9%E8%B1%A1%0A---%0A-%20%E9%89%B4%E4%BA%8E%E5%AF%B9node%E8%BF%98%E5%81%9C%E7%95%99%E5%9C%A8%E6%87%B5%E6%87%82%E9%98%B6%E6%AE%B5%EF%BC%8C%E6%9A%82%E6%97%B6%E4%B8%8D%E6%94%B6%E5%BD%95